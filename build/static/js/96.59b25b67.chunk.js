"use strict";(self.webpackChunkvaccine_app=self.webpackChunkvaccine_app||[]).push([[96],{1096:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var a,r=t(4165),s=t(5861),c=t(1044),o=t(2791),i=t(8807),l=t(1413),d=t(2426),u=t.n(d),m=t(2982),p=t(168),h=t(6444),x=t(1358),b=t(9135),f=t(184),g=h.ZP.div(a||(a=(0,p.Z)(['\n  /* This is required to make the table full-width */\n  display: block;\n  max-width: 100%;\n\n  /* This will make the table scrollable when it gets too small */\n  .tableWrap {\n    display: block;\n    max-width: 100%;\n    overflow-x: scroll;\n    overflow-y: hidden;\n    border-bottom: 1px solid black;\n  }\n\n  table {\n    /* Make sure the inner table is always as wide as needed */\n    width: 100%;\n    border-spacing: 0;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      /* The secret sauce */\n      /* Each cell should grow equally */\n      width: 1%;\n      /* But "collapsed" cells should be as small as possible */\n      &.collapse {\n        width: 0.0000000001%;\n      }\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n\n  .pagination {\n    padding: 0.5rem;\n  }\n']))),v=function(e){var n=e.columns,t=e.data,a=e.handleAction,r=e.deleteBtnEn,s=e.editBtnEn,c=(0,x.useTable)({columns:n,data:t,initialState:{pageIndex:0,pageSize:4}},x.usePagination,x.useRowSelect,(function(e){e.visibleColumns.unshift((function(e){return[].concat((0,m.Z)(e),[{id:"delete-selection",Header:"Action",Cell:function(e){var n=e.row;return(0,f.jsxs)(f.Fragment,{children:[s&&(0,f.jsx)("span",{className:"icon",onClick:function(){return a(n,"edit")},children:(0,f.jsx)(b.fmQ,{})}),r&&(0,f.jsx)("span",{className:"icon",onClick:function(){return a(n,"delete")},children:(0,f.jsx)(b.Xm5,{})})]})}}])}))})),o=c.getTableProps,i=c.getTableBodyProps,d=c.headerGroups,u=c.prepareRow,p=c.page,h=c.canPreviousPage,v=c.canNextPage,j=c.pageOptions,N=c.pageCount,Z=c.gotoPage,w=c.nextPage,k=c.previousPage,y=c.setPageSize,S=c.state,C=S.pageIndex,P=S.pageSize;return(0,f.jsxs)(g,{children:[(0,f.jsx)("div",{className:"tableWrap",children:(0,f.jsxs)("table",(0,l.Z)((0,l.Z)({},o()),{},{children:[(0,f.jsx)("thead",{children:d.map((function(e){return(0,f.jsx)("tr",(0,l.Z)((0,l.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,f.jsx)("th",(0,l.Z)((0,l.Z)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),(0,f.jsx)("tbody",(0,l.Z)((0,l.Z)({},i()),{},{children:p.map((function(e,n){return u(e),(0,f.jsx)("tr",(0,l.Z)((0,l.Z)({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,f.jsx)("td",(0,l.Z)((0,l.Z)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}),(0,f.jsxs)("div",{className:"pagination",children:[(0,f.jsx)("button",{onClick:function(){return Z(0)},disabled:!h,children:"<<"})," ",(0,f.jsx)("button",{onClick:function(){return k()},disabled:!h,children:"<"})," ",(0,f.jsx)("button",{onClick:function(){return w()},disabled:!v,children:">"})," ",(0,f.jsx)("button",{onClick:function(){return Z(N-1)},disabled:!v,children:">>"})," ",(0,f.jsxs)("span",{children:["Page"," ",(0,f.jsxs)("strong",{children:[C+1," of ",j.length]})," "]}),(0,f.jsxs)("span",{children:["| Go to page:"," ",(0,f.jsx)("input",{type:"number",defaultValue:C+1,onChange:function(e){var n=e.target.value?Number(e.target.value)-1:0;Z(n)},style:{width:"100px"}})]})," ",(0,f.jsx)("select",{value:P,onChange:function(e){y(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return(0,f.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]})},j=[{id:"delete-icon",actionIcon:(0,f.jsx)(b.Xm5,{}),className:"icon"},{id:"editIcon",actionIcon:(0,f.jsx)(b.fmQ,{}),className:"icon"}],N=function(e){var n=e.getAllStudentsData,t=((0,o.useContext)(i.dk).appActionDispatch,(0,o.useContext)(i.dk).appState.studentData);(0,o.useEffect)((function(){n()}),[]);var a=o.useMemo((function(){return[{Header:"Students Detals Grid",columns:[{Header:"Date",accessor:"formattedDate"},{Header:"Student Name",accessor:"studentName"},{Header:"Vaccine Status",accessor:"tt"},{Header:"Vaccine Name",accessor:"vaccineName"}]}]}),[]),r=t.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{tt:!0===e.vaccineStatus?"Vaccinated":"Not Vaccinated",formattedDate:u()(e.date).format("DD/MM/YYYY")})}));return(0,f.jsx)("div",{children:(0,f.jsx)(v,{columns:a,data:r,handleAction:function(e,n){console.log("RoW",e,n)},actionIcons:j,editBtnEn:!0,deleteBtnEn:!0})})},Z=t(8174),w=t(5705),k=t(7103),y=k.Ry().shape({studentName:k.Z_().required("Student name required"),vaccineName:k.Z_().required("Vaccine name is required")}),S=function(){var e=(0,o.useContext)(i.dk).appActionDispatch,n=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:i.Vn.setLoader,payload:!0}),n.prev=1,n.next=4,c.ZP.get("http://localhost:4000/api/v1/student");case 4:return(t=n.sent)&&(e({type:i.Vn.setStudentData,payload:t.data.data}),e({type:i.Vn.setLoader,payload:!1})),console.log("#DD>",t),n.abrupt("return",t);case 10:n.prev=10,n.t0=n.catch(1),console.log("error: ",n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}(),t=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,c.ZP.post("http://localhost:4000/api/v1/student",t);case 4:return(a=e.sent)&&(n(),function(){return(0,Z.Am)("Student Added Successfully \ud83d\ude32!")}()),console.log("#DD>",a),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(1),console.log("error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:"dashboard-main",children:[(0,f.jsx)(w.J9,{initialValues:{studentName:"",vaccineName:""},validationSchema:y,className:"student-form ",onSubmit:function(e,n){var a=n.resetForm;console.log(e),t(e),a()},children:function(e){e.touched,e.errors,e.isSubmitting,e.values;return(0,f.jsxs)(w.l0,{children:[(0,f.jsxs)("div",{className:"col-6 mb-4",children:[(0,f.jsx)("label",{htmlFor:"studentName",className:"mb-2",children:"Student Name"}),(0,f.jsx)(w.gN,{type:"text",className:"form-control",id:"studentName",name:"studentName",placeholder:"Student Name"}),(0,f.jsx)(w.Bc,{component:"div",name:"studentName",className:"error"})]}),(0,f.jsxs)("div",{className:"col-6 mb-4",children:[(0,f.jsx)("label",{htmlFor:"vaccineName",className:"mb-2",children:"Vaccine"}),(0,f.jsx)(w.gN,{type:"text",className:"form-control",id:"vaccineName",name:"vaccineName",placeholder:"Vaccine Name"}),(0,f.jsx)(w.Bc,{component:"div",name:"vaccineName",className:"error"})]}),(0,f.jsx)("div",{className:"col-6 mb-3",children:(0,f.jsx)("button",{type:"submit",className:"btn btn-primary mb-3",children:"Submit"})})]})}}),(0,f.jsx)(N,{getAllStudentsData:n})]})}}}]);
//# sourceMappingURL=96.59b25b67.chunk.js.map